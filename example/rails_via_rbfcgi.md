Dokończyć!!!!!!!!!!
Rails via Rbfcgi wrapper
========================

- Testing environment:
  - Rails (4.2.6), Ruby (2.3.0),
    Apache (2.4.7), Ubuntu (14.04)

Rails is a web framework written in Ruby.
_________________________________________

Installing and configuring
--------------------------

First, install the dependencies:

    sudo apt-get install nodejs libsqlite3-dev

Second, install the "rails" and the "lokolab-rbfcgi" gems:

    gem install rails lokolab-rbfcgi

Third, execute commands via shell*:

    cd /home/someuser/public_html
    mkdir myproj
    cd myproj
    rails new hello

Fourth, modify the file "... /myproj/views/hello/index.html.erb":

    <h1>Index page</h1> generated by Rails

Fifth, modify the file "... /myproj/config/routes.rb":

    # ...
    root 'welcome#index'
    # ...

Sixth, create a file named ".htaccess" inside your
website’s document root "... /myproj/public/.htaccess"
and add the following lines:

    RewriteEngine on
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteRule ^(.*)$ app.rb/$1 [QSA,L]

Seventh, create a file named "app.rb" inside your
website’s document root "... /myproj/public/app.rb"
and add the following lines*:

    ENV['RAILS_ENV'] = 'development'

    require_relative '../config/environment'

    begin
      Module.const_get('LokoLab::Rbfcgi::Server')
    rescue NameError => e
      require 'lokolab/rbfcgi/server'
    end

    class Rack::PathInfoRewriter

      def initialize()
        @app = Hello::Application
        #      ^^^^^----------------------------- Application name.
      end

      def call(env)
        env.delete('SCRIPT_NAME')
        parts = env['REQUEST_URI'].split('?')
        env['PATH_INFO'] = parts[0]
        env['QUERY_STRING'] = parts[1].to_s
        @app.call(env)
      end
    end

    app = Rack::PathInfoRewriter.new()

    server = LokoLab::Rbfcgi::Server.new(app)
    server.run()

Finally, in the browser, enter `http://localhost/myproj/public`
or `http://localhost/myproj/public/hello/your_name`

________________________________________________________
[*] Paths and username should be modified to the server.

